(function(){$(function(){var t,n,e,a,o,i,r,s,h,c,l,d,u,f,m,p,w,g,v,_,C,b,T;for(t=$(document),l=$(window),e=$("html"),a=$("html,body"),r=$("#header"),n=$("#hero"),i=$("#more-button"),c=$("#sandwich"),s=$("#product-section"),h=$("#shop-section--mobile"),o=[],v=$(".sandwich__image"),f=0,w=v.length;w>f;f++)p=v[f],o.push($(p));return m=window.screen.width<=1024&&e.hasClass("touch"),C=0,T=null,g=null,d=function(){var n,e,a,i;for(C=t.scrollTop(),i=[],e=0,a=o.length;a>e;e++)n=o[e],i.push(u(n));return i},u=function(t){var n,e,a,o,i,r,s,h,c;return i=t.height(),r=t.offset().top-(T-i/2),h=(C-r)/(T+g),h=Math.max(0,Math.min(1,h)),o=parseInt(t.attr("data-frame-start"))||0,a=parseInt(t.attr("data-frame-half")),e=parseInt(t.attr("data-frame-end")),n=.5>h?o+2*h*(a-o):a+2*(h-.5)*(e-a),n=Math.round(n),n=10>n?"0"+n:n,s=t.attr("data-name"),null!=(c=t[0])?c.className="sandwich__"+s+"-image--"+n+" sandwich__"+s+"-image sandwich__image":void 0},b=function(t){return requestAnimationFrame(d)},_=function(t){return T=l.height(),g=r.height(),b()},i.click(function(t){var e;return t.preventDefault(),e=n.offset().top+n.height()-g/2,a.stop().animate({scrollTop:e},1e3)}),m&&e.addClass("is-mobile"),m||e.addClass("is-desktop"),l.scroll(b),l.resize(_),_(),"#product-section"===window.location.hash&&window.innerWidth<900&&a.animate({scrollTop:h.offset().top-r.height()},1e3),$(".js-cart-shop-now").on("click",function(t){var n;return t.preventDefault(),n=window.innerWidth>900?s.offset().top:h.offset().top,window.miniCart.hideCart(),a.animate({scrollTop:n-r.height()},1e3)})})}).call(this);